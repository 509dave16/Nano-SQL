<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="nano-sql.min.js"></script>
    <script>

    const ExampleUsers = [
        {id: 1, name: "Bill", age: 20, email: "bill@gmail.com", meta: {value: 1}, posts: [1, 3]},
        {id: 2, name: "Jeb", age: 24, email: "jeb@gmail.com", meta: {value: 1}, posts: [1]},
        {id: 3, name: "Bob", age: 21, email: "bob@gmail.com", meta: {value: 1}, posts: [1, 2, 3]},
        {id: 4, name: "Bill", age: 23, email: "bill@gmail.com", meta: {value: 1}, posts: [1, 3]},
        {id: 5, name: "Jeb", age: 30, email: "jeb@gmail.com", meta: {value: 1}, posts: [1]},
        {id: 6, name: "Bob", age: 29, email: "bob@gmail.com", meta: {value: 1}, posts: [1, 2, 3]}
    ];

    const dataModel = [
        { key: "id", type: "int", props: ["pk()", "ai()"] },
        { key: "age", type: "int", props: ["idx()"] },
        { key: "name", type: "string", props: ["idx()"] },
        { key: "email", type: "string", props: ["trie()"] },
        { key: "meta", type: "map"},
        { key: "posts", type: "int[]"}
    ];

    nSQL("users")
    .model(dataModel)
    .connect().then(() => {
        return nSQL().loadJS("users", ExampleUsers);
    }).then(() => {
        
        nSQL("users").query("select").where(["age", ">", 23]).exec().then((rows) => {
            console.log(rows);
        })
    })
    </script>
</head>
<body>
    
</body>
</html>